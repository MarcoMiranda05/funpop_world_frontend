{"ast":null,"code":"var _jsxFileName = \"/Users/marcomiranda/Dev/GitHub/funpop_world_frontend/src/components/OfferPage.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Link, NavLink } from \"react-router-dom\";\nimport api from \"../util/api\";\nimport tradeIcon from \"../images/trade-icon-black.png\";\nimport Swal from \"sweetalert2\";\n\nclass OfferPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      offer: [],\n      ready: false\n    };\n\n    this.acceptOffer = e => {\n      api.toggleOfferStatus(this.state.offer.id, e.target.name).then(data => {\n        api.removeFromCollection(data.incoming_funko.id);\n        api.removeFromCollection(data.outcoming_funko.id);\n        api.addFunkoToCollection(data.outcoming_funko.user.id, data.incoming_funko.funko.id);\n        api.addFunkoToCollection(data.incoming_funko.user.id, data.outcoming_funko.funko.id);\n        Swal.fire({\n          title: \"Offer has been acceptd! Now you have \".concat(data.outcoming_funko.funko.name, \" in you collection!\"),\n          imageUrl: \"\".concat(data.outcoming_funko.funko.name.image_url),\n          imageWidth: 150,\n          imageHeight: 200,\n          imageAlt: \"funko image\",\n          showConfirmButtonText: false,\n          timer: 2500\n        });\n        this.props.history.push(\"/\");\n      });\n    };\n\n    this.rejectOffer = () => {\n      api.rejectOffer(this.state.offer.id).then(() => {\n        // Swal.fire({\n        //   title: \"Okay!!!\",\n        //   text: `Offer has been rejected!`,\n        //   type: \"success\",\n        //   showConfirmButtonText: false,\n        //   timer: 1500\n        // });\n        this.props.history.push(\"/\");\n      });\n    };\n\n    this.cancelOffer = () => {\n      api.rejectOffer(this.state.offer.id).then(() => {\n        // Swal.fire({\n        //   title: \"Okay!!!\",\n        //   text: `Offer has been cancelled!`,\n        //   type: \"success\",\n        //   showConfirmButtonText: false,\n        //   timer: 1500\n        // });\n        this.props.history.push(\"/\");\n      });\n    };\n\n    this.incomingButtons = () => {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.acceptOffer,\n        name: \"accepted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"accept offer\"), React.createElement(\"button\", {\n        onClick: this.rejectOffer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"reject offer\"));\n    };\n\n    this.outcomingButtons = () => {\n      return React.createElement(\"button\", {\n        onClick: this.cancelOffer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"cancel offer\");\n    };\n  }\n\n  componentDidMount() {\n    api.showOffer(this.props.id).then(data => {\n      this.setState({\n        offer: data,\n        ready: true\n      });\n    });\n  }\n\n  render() {\n    const renderOffer = () => {\n      const parts = this.state.offer.incoming_funko.funko.release_date.split(\"-\");\n      const date = new Date(parts[0], parts[1] - 1, parts[2]);\n      const parts2 = this.state.offer.outcoming_funko.funko.release_date.split(\"-\");\n      const date2 = new Date(parts2[0], parts2[1] - 1, parts2[2]);\n      return React.createElement(\"div\", {\n        className: \"make-an-offer-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"incoming-funko-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.offer.incoming_funko.funko.name), React.createElement(\"div\", {\n        className: \"funko-image-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.offer.incoming_funko.funko.image_url,\n        alt: this.state.offer.incoming_funko.funko.name,\n        className: \"funko-page-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"gradient\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"funko-incoming-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"fandom:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.state.offer.incoming_funko.funko.fandom)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"category:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.state.offer.incoming_funko.funko.category)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"release date:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, new Intl.DateTimeFormat(\"en-GB\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"2-digit\"\n      }).format(date).toLowerCase())), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"exclusivity:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, this.state.offer.incoming_funko.funko.exclusivity === \"\" ? \"none\" : \"\".concat(this.state.offer.incoming_funko.funko.exclusivity))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"trending value:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, this.state.offer.incoming_funko.funko.trending_value == null ? \"$--\" : \"$\".concat(this.state.offer.incoming_funko.funko.trending_value))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"funko belongs to:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.offer.incoming_funko.user.username)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"from:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, this.state.offer.incoming_funko.user.city, \",\", \" \", this.state.offer.incoming_funko.user.country)))), React.createElement(\"div\", {\n        className: \"confirm-offer-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: tradeIcon,\n        alt: \"transfer-logo\",\n        className: \"trade-image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), this.state.offer.incoming_funko.user.id === this.props.currentUser.id ? this.incomingButtons() : this.outcomingButtons(), React.createElement(Link, {\n        to: \"/funkos-to-trade\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"see all funkos on trade\"))), React.createElement(\"div\", {\n        className: \"outgoing-funko-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, this.state.offer.outcoming_funko.funko.name), React.createElement(\"div\", {\n        className: \"funko-image-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.offer.outcoming_funko.funko.image_url,\n        alt: this.state.offer.outcoming_funko.funko.name,\n        className: \"funko-page-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"gradient\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"funko-incoming-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"fandom:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, this.state.offer.outcoming_funko.funko.fandom)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"category:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, this.state.offer.outcoming_funko.funko.category)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"release date:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, new Intl.DateTimeFormat(\"en-GB\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"2-digit\"\n      }).format(date2).toLowerCase())), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"exclusivity:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, this.state.offer.outcoming_funko.funko.exclusivity === \"\" ? \"none\" : \"\".concat(this.state.offer.outcoming_funko.funko.exclusivity))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"trending value:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, this.state.offer.outcoming_funko.funko.trending_value == null ? \"$--\" : \"$\".concat(this.state.offer.outcoming_funko.funko.trending_value))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"funko belongs to:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, this.state.offer.outcoming_funko.user.username)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"incoming-funko-topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"from:\"), React.createElement(\"h2\", {\n        className: \"incoming-funko-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, this.state.offer.outcoming_funko.user.city, \",\", \" \", this.state.offer.outcoming_funko.user.country)))));\n    };\n\n    return this.state.ready ? renderOffer() : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"loading\");\n  }\n\n}\n\nexport default OfferPage;","map":{"version":3,"sources":["/Users/marcomiranda/Dev/GitHub/funpop_world_frontend/src/components/OfferPage.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","NavLink","api","tradeIcon","Swal","OfferPage","state","offer","ready","acceptOffer","e","toggleOfferStatus","id","target","name","then","data","removeFromCollection","incoming_funko","outcoming_funko","addFunkoToCollection","user","funko","fire","title","imageUrl","image_url","imageWidth","imageHeight","imageAlt","showConfirmButtonText","timer","props","history","push","rejectOffer","cancelOffer","incomingButtons","outcomingButtons","componentDidMount","showOffer","setState","render","renderOffer","parts","release_date","split","date","Date","parts2","date2","fandom","category","Intl","DateTimeFormat","year","month","day","format","toLowerCase","exclusivity","trending_value","username","city","country","currentUser"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  NavLink\n} from \"react-router-dom\";\nimport api from \"../util/api\";\nimport tradeIcon from \"../images/trade-icon-black.png\";\nimport Swal from \"sweetalert2\";\n\nclass OfferPage extends Component {\n  state = {\n    offer: [],\n    ready: false\n  };\n\n  componentDidMount() {\n    api.showOffer(this.props.id).then(data => {\n      this.setState({ offer: data, ready: true });\n    });\n  }\n\n  acceptOffer = e => {\n    api.toggleOfferStatus(this.state.offer.id, e.target.name).then(data => {\n      api.removeFromCollection(data.incoming_funko.id);\n      api.removeFromCollection(data.outcoming_funko.id);\n      api.addFunkoToCollection(\n        data.outcoming_funko.user.id,\n        data.incoming_funko.funko.id\n      );\n      api.addFunkoToCollection(\n        data.incoming_funko.user.id,\n        data.outcoming_funko.funko.id\n      );\n      Swal.fire({\n        title: `Offer has been acceptd! Now you have ${\n          data.outcoming_funko.funko.name\n        } in you collection!`,\n        imageUrl: `${data.outcoming_funko.funko.name.image_url}`,\n        imageWidth: 150,\n        imageHeight: 200,\n        imageAlt: \"funko image\",\n        showConfirmButtonText: false,\n        timer: 2500\n      });\n      this.props.history.push(\"/\");\n    });\n  };\n\n  rejectOffer = () => {\n    api.rejectOffer(this.state.offer.id).then(() => {\n      // Swal.fire({\n      //   title: \"Okay!!!\",\n      //   text: `Offer has been rejected!`,\n      //   type: \"success\",\n      //   showConfirmButtonText: false,\n      //   timer: 1500\n      // });\n      this.props.history.push(\"/\");\n    });\n  };\n\n  cancelOffer = () => {\n    api.rejectOffer(this.state.offer.id).then(() => {\n      // Swal.fire({\n      //   title: \"Okay!!!\",\n      //   text: `Offer has been cancelled!`,\n      //   type: \"success\",\n      //   showConfirmButtonText: false,\n      //   timer: 1500\n      // });\n      this.props.history.push(\"/\");\n    });\n  };\n\n  incomingButtons = () => {\n    return (\n      <React.Fragment>\n        <button onClick={this.acceptOffer} name=\"accepted\">\n          accept offer\n        </button>\n        <button onClick={this.rejectOffer}>reject offer</button>\n      </React.Fragment>\n    );\n  };\n\n  outcomingButtons = () => {\n    return <button onClick={this.cancelOffer}>cancel offer</button>;\n  };\n\n  render() {\n    const renderOffer = () => {\n      const parts = this.state.offer.incoming_funko.funko.release_date.split(\n        \"-\"\n      );\n      const date = new Date(parts[0], parts[1] - 1, parts[2]);\n\n      const parts2 = this.state.offer.outcoming_funko.funko.release_date.split(\n        \"-\"\n      );\n      const date2 = new Date(parts2[0], parts2[1] - 1, parts2[2]);\n\n      return (\n        <div className=\"make-an-offer-container\">\n          <div className=\"incoming-funko-container\">\n            <h1 className=\"info\">\n              {this.state.offer.incoming_funko.funko.name}\n            </h1>\n            <div className=\"funko-image-div\">\n              <img\n                src={this.state.offer.incoming_funko.funko.image_url}\n                alt={this.state.offer.incoming_funko.funko.name}\n                className=\"funko-page-img\"\n              />\n              <div className=\"gradient\" />\n            </div>\n            <div className=\"funko-incoming-details\">\n              <div>\n                <h2 className=\"incoming-funko-topic\">fandom:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.incoming_funko.funko.fandom}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">category:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.incoming_funko.funko.category}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">release date:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {new Intl.DateTimeFormat(\"en-GB\", {\n                    year: \"numeric\",\n                    month: \"long\",\n                    day: \"2-digit\"\n                  })\n                    .format(date)\n                    .toLowerCase()}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">exclusivity:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.incoming_funko.funko.exclusivity === \"\"\n                    ? \"none\"\n                    : `${this.state.offer.incoming_funko.funko.exclusivity}`}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">trending value:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.incoming_funko.funko.trending_value == null\n                    ? \"$--\"\n                    : `$${\n                        this.state.offer.incoming_funko.funko.trending_value\n                      }`}\n                </h2>\n              </div>\n              <br />\n              <div>\n                <h2 className=\"incoming-funko-topic\">funko belongs to:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.incoming_funko.user.username}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">from:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.incoming_funko.user.city},{\" \"}\n                  {this.state.offer.incoming_funko.user.country}\n                </h2>\n              </div>\n            </div>\n          </div>\n          <div className=\"confirm-offer-container\">\n            <img src={tradeIcon} alt=\"transfer-logo\" className=\"trade-image\" />\n            {this.state.offer.incoming_funko.user.id ===\n            this.props.currentUser.id\n              ? this.incomingButtons()\n              : this.outcomingButtons()}\n            <Link to={\"/funkos-to-trade\"}>\n              <button>see all funkos on trade</button>\n            </Link>\n          </div>\n          <div className=\"outgoing-funko-container\">\n            <h1 className=\"info\">\n              {this.state.offer.outcoming_funko.funko.name}\n            </h1>\n            <div className=\"funko-image-div\">\n              <img\n                src={this.state.offer.outcoming_funko.funko.image_url}\n                alt={this.state.offer.outcoming_funko.funko.name}\n                className=\"funko-page-img\"\n              />\n              <div className=\"gradient\" />\n            </div>\n            <div className=\"funko-incoming-details\">\n              <div>\n                <h2 className=\"incoming-funko-topic\">fandom:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.outcoming_funko.funko.fandom}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">category:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.outcoming_funko.funko.category}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">release date:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {new Intl.DateTimeFormat(\"en-GB\", {\n                    year: \"numeric\",\n                    month: \"long\",\n                    day: \"2-digit\"\n                  })\n                    .format(date2)\n                    .toLowerCase()}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">exclusivity:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.outcoming_funko.funko.exclusivity === \"\"\n                    ? \"none\"\n                    : `${this.state.offer.outcoming_funko.funko.exclusivity}`}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">trending value:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.outcoming_funko.funko.trending_value == null\n                    ? \"$--\"\n                    : `$${\n                        this.state.offer.outcoming_funko.funko.trending_value\n                      }`}\n                </h2>\n              </div>\n              <br />\n              <div>\n                <h2 className=\"incoming-funko-topic\">funko belongs to:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.outcoming_funko.user.username}\n                </h2>\n              </div>\n              <div>\n                <h2 className=\"incoming-funko-topic\">from:</h2>\n                <h2 className=\"incoming-funko-info\">\n                  {this.state.offer.outcoming_funko.user.city},{\" \"}\n                  {this.state.offer.outcoming_funko.user.country}\n                </h2>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    };\n\n    return this.state.ready ? renderOffer() : <div>loading</div>;\n  }\n}\n\nexport default OfferPage;\n"]},"metadata":{},"sourceType":"module"}